<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tens Mine</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #333;
    }
    #packages button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    #grid {
      display: grid;
      grid-template-columns: repeat(5, 60px);
      grid-gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }
    .square {
      width: 60px;
      height: 60px;
      background-color: #ccc;
      border: 2px solid #999;
      cursor: pointer;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .square.revealed {
      background-color: #eee;
      cursor: default;
    }
    #status {
      margin-top: 20px;
      font-size: 18px;
      color: #444;
    }
    #links {
      margin-top: 30px;
    }
    #links a {
      margin: 0 10px;
      text-decoration: none;
      color: #007BFF;
    }
  </style>
</head>
<body>
  <h1>Tens Mine</h1>
  <div id="packages">
    <button onclick="buyPackage('silver')">Silver - $0.50</button>
    <button onclick="buyPackage('gold')">Gold - $1.00</button>
    <button onclick="buyPackage('platinum')">Platinum - $2.00</button>
  </div>

  <div id="grid"></div>

  <div id="status"></div>

  <div id="links">
    <a href="#" onclick="showPolicy('terms')">Terms of Service</a>
    <a href="#" onclick="showPolicy('cashout')">Cashout Policy</a>
    <a href="#" onclick="showPolicy('legal')">Legal Info</a>
  </div>

  <script>
    let gameState = {
      playing: false,
      tokensFound: 0,
      targetTokens: 2,
      payout: 0,
      balance: 0
    };

    const packages = {
      silver: { price: 0.5, payout: 1.0 },
      gold: { price: 1.0, payout: 2.0 },
      platinum: { price: 2.0, payout: 4.0 }
    };

    function buyPackage(type) {
      const pkg = packages[type];
      gameState = {
        playing: true,
        tokensFound: 0,
        targetTokens: 2,
        payout: pkg.payout,
        balance: 0
      };
      document.getElementById("status").innerText = `Package: ${type.toUpperCase()} ($${pkg.price.toFixed(2)}). Find 2 tokens to win $${pkg.payout.toFixed(2)}!`;
      generateBoard(20);
    }

    function generateBoard(size) {
      const grid = document.getElementById("grid");
      grid.innerHTML = "";
      const board = Array(size).fill("empty");

      // Place exactly 2 tokens
      let placedTokens = 0;
      while (placedTokens < 2) {
        let index = Math.floor(Math.random() * size);
        if (board[index] === "empty") {
          board[index] = "token";
          placedTokens++;
        }
      }

      // Place 1 bomb
      let bombPlaced = false;
      while (!bombPlaced) {
        let index = Math.floor(Math.random() * size);
        if (board[index] === "empty") {
          board[index] = "bomb";
          bombPlaced = true;
        }
      }

      board.forEach((type, i) => {
        const square = document.createElement("div");
        square.className = "square";
        square.onclick = () => handleClick(square, type);
        grid.appendChild(square);
      });
    }

    function handleClick(square, type) {
      if (!gameState.playing || square.classList.contains("revealed")) return;

      square.classList.add("revealed");

      if (type === "token") {
        square.innerText = "ðŸŒŸ"; // Star for token
        gameState.tokensFound++;
        document.getElementById("status").innerText = `Tokens found: ${gameState.tokensFound} / 2. Keep going or cash out!`;

        if (gameState.tokensFound === gameState.targetTokens) {
          gameState.balance += gameState.payout;
          gameState.playing = false;
          document.getElementById("status").innerText = `You won $${gameState.balance.toFixed(2)}! You can now cash out!`;
        }
      } else if (type === "bomb") {
        square.innerText = "ðŸ’£"; // Bomb icon
        gameState.balance = 0;
        gameState.playing = false;
        document.getElementById("status").innerText = `Boom! You hit a bomb. Balance lost.`;
      } else {
        square.innerText = "â˜ "; // Skull and crossbones
      }
    }

    function showPolicy(type) {
      let message = "";
      switch (type) {
        case "terms":
          message = "By playing, you agree to our fair-play policy and that this game is skill-based with random elements.";
          break;
        case "cashout":
          message = "You may cash out your balance once you win by finding 2 tokens in a package. Winnings are based on package tier.";
          break;
        case "legal":
          message = "This game is compliant with local laws regarding prize-based skill games. Not gambling.";
          break;
      }
      alert(message);
    }
  </script>
</body>
</html>
