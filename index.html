<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stick Legends - Fun Stickman Game</title>
  <meta name="description" content="Play Stick Legends, an addicting stickman action game with upgrades and a crystal store! Optional in-game purchases via PayPal." />
  <meta name="keywords" content="stickman game, online game, action game, upgrades, crystals, PayPal store" />
  <meta name="author" content="Jason" />
  <meta property="og:title" content="Stick Legends - Fun Stickman Game" />
  <meta property="og:description" content="Play Stick Legends, an addicting stickman action game with upgrades and a crystal store! Optional in-game purchases via PayPal." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://yourgithubusername.github.io/yourrepo/" />
  <meta property="og:image" content="https://via.placeholder.com/600x315.png?text=Stick+Legends+Game" />
  <style>
    body {
      margin: 0; padding: 0; background: #121212; color: #eee; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      user-select: none;
    }
    #gameCanvas {
      display: block;
      margin: 20px auto;
      background: linear-gradient(to bottom, #87ceeb 0%, #e0f7fa 100%);
      border: 2px solid #333;
      border-radius: 8px;
    }
    #store {
      max-width: 400px;
      margin: 10px auto;
      background: #222;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
    }
    #store h2 {
      margin: 0 0 10px 0;
    }
    #store button {
      background: #0a74da;
      color: white;
      border: none;
      padding: 8px 12px;
      margin: 5px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
    #store button:disabled {
      background: #555;
      cursor: default;
    }
    #hud {
      max-width: 400px;
      margin: 0 auto 10px auto;
      padding: 10px;
      background: #222;
      border-radius: 8px;
      text-align: center;
      font-size: 1.1em;
    }
    /* Modals */
    .modal {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
      display: none;
      z-index: 1000;
      color: #eee;
      box-shadow: 0 0 15px #000;
    }
    .modal.active {
      display: block;
    }
    .modal header {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 1.3em;
    }
    .modal button.close {
      background: #0a74da;
      border: none;
      color: white;
      padding: 5px 10px;
      float: right;
      cursor: pointer;
      border-radius: 4px;
    }
    footer {
      text-align: center;
      padding: 10px;
      background: #111;
      color: #777;
      font-size: 0.9em;
      position: fixed;
      width: 100%;
      bottom: 0;
      left: 0;
    }
    footer a {
      color: #0a74da;
      margin: 0 8px;
      text-decoration: none;
      cursor: pointer;
    }
    footer a:hover {
      text-decoration: underline;
    }
    /* Social Share Buttons */
    #social-share {
      max-width: 400px;
      margin: 20px auto;
      text-align: center;
    }
    #social-share button {
      background: #0a74da;
      color: white;
      border: none;
      padding: 8px 12px;
      margin: 0 5px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      font-size: 0.95em;
      user-select: none;
      transition: background 0.3s ease;
    }
    #social-share button:hover {
      background: #065aab;
    }
  </style>
</head>
<body>
  <h1 style="text-align:center; margin-top: 15px;">Stick Legends</h1>

  <div id="hud">
    Crystals: <span id="crystalCount">0</span> |
    Health: <span id="healthCount">100</span>
  </div>

  <canvas id="gameCanvas" width="600" height="400" tabindex="0" aria-label="Stick Legends game canvas"></canvas>

  <div id="store">
    <h2>Store (Use Crystals to Buy Upgrades)</h2>
    <button data-id="doubleJump">Double Jump (300 Crystals)</button>
    <button data-id="flameSword">Flame Sword (600 Crystals)</button>
    <button data-id="redBandana">Red Bandana (400 Crystals)</button>
  </div>

  <!-- Social Share Buttons -->
  <div id="social-share">
    <span>Share this game: </span>
    <button id="share-twitter" aria-label="Share on Twitter">üê¶ Twitter</button>
    <button id="share-facebook" aria-label="Share on Facebook">üìò Facebook</button>
    <button id="share-linkedin" aria-label="Share on LinkedIn">üîó LinkedIn</button>
  </div>

  <!-- Modals -->
  <footer>
    <a href="#" id="termsLink">Terms</a> | <a href="#" id="privacyLink">Privacy</a> | &copy; 2025 Stick Legends
  </footer>

  <div id="termsModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="termsHeader" tabindex="-1">
    <button class="close" id="termsClose" aria-label="Close Terms">&times;</button>
    <header id="termsHeader">Terms and Conditions</header>
    <p>This is a demo game. All game content is original and not copyrighted. Payments are made via PayPal to akaeaves@yahoo.com for optional upgrades.</p>
  </div>

  <div id="privacyModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="privacyHeader" tabindex="-1">
    <button class="close" id="privacyClose" aria-label="Close Privacy">&times;</button>
    <header id="privacyHeader">Privacy Policy</header>
    <p>No personal data is collected by this game. Payment processing is handled by PayPal and is subject to their privacy policies.</p>
  </div>

  <script>
  (function(){
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const WIDTH = canvas.width;
    const HEIGHT = canvas.height;
    const FLOOR_Y = HEIGHT - 50;

    // Player object
    const player = {
      x: 100,
      y: FLOOR_Y,
      width: 20,
      height: 40,
      velocityX: 0,
      velocityY: 0,
      speed: 3,
      jumpStrength: 10,
      gravity: 0.5,
      onGround: true,
      health: 100,
      maxHealth: 100,
      crystals: 0,
      facingRight: true,
      attacking: false,
      hasDoubleJump: false,
      canDoubleJump: false,
      hasFlameSword: false,
      wearingRedBandana: false
    };

    // Enemy object
    const enemy = {
      x: 450,
      y: FLOOR_Y,
      width: 20,
      height: 40,
      health: 50,
      maxHealth: 50,
      speed: 2,
      direction: -1,
      draw() {
        ctx.fillStyle = 'red';
        ctx.fillRect(this.x, this.y - this.height, this.width, this.height);
        // Health bar
        ctx.fillStyle = 'black';
        ctx.fillRect(this.x, this.y - this.height - 10, this.width, 5);
        ctx.fillStyle = 'lime';
        ctx.fillRect(this.x, this.y - this.height - 10, (this.health / this.maxHealth) * this.width, 5);
      }
    };

    // Coins
    let coins = [];
    function Coin(x,y){
      this.x = x;
      this.y = y;
      this.radius = 6;
      this.collected = false;
      this.draw = function(){
        if(!this.collected){
          ctx.fillStyle = 'yellow';
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
          ctx.fill();
          ctx.strokeStyle = '#cc0';
          ctx.stroke();
        }
      };
      this.update = function(){
        // Coin pulse animation
      };
    }

    // Generate coins
    function generateCoins(){
      coins = [];
      for(let i=0; i<10; i++){
        coins.push(new Coin(80 + i*50, FLOOR_Y - 20));
      }
    }
    generateCoins();

    // Controls
    const keys = {};
    window.addEventListener('keydown', e => {
      keys[e.key.toLowerCase()] = true;
      if(e.key === ' ' || e.key === 'Spacebar') e.preventDefault(); // prevent page scroll
    });
    window.addEventListener('keyup', e => {
      keys[e.key.toLowerCase()] = false;
    });

    // Update function
    function update(){
      // Move left/right
      if(keys['arrowleft'] || keys['a']){
        player.velocityX = -player.speed;
        player.facingRight = false;
      } else if(keys['arrowright'] || keys['d']){
        player.velocityX = player.speed;
        player.facingRight = true;
      } else {
        player.velocityX = 0;
      }

      // Jump
      if((keys['arrowup'] || keys['w'] || keys[' ']) && player.onGround){
        player.velocityY = -player.jumpStrength;
        player.onGround = false;
        player.canDoubleJump = player.hasDoubleJump;
      } else if((keys['arrowup'] || keys['w'] || keys[' ']) && player.canDoubleJump){
        player.velocityY = -player.jumpStrength;
        player.canDoubleJump = false;
      }

      // Attack on pressing 'f'
      if(keys['f']){
        player.attacking = true;
      } else {
        player.attacking = false;
      }

      // Gravity
      player.velocityY += player.gravity;
      player.x += player.velocityX;
      player.y += player.velocityY;

      // Floor collision
      if(player.y >= FLOOR_Y){
        player.y = FLOOR_Y;
        player.velocityY = 0;
        player.onGround = true;
      }

      // Keep player in bounds horizontally
      if(player.x < 0) player.x = 0;
      if(player.x > WIDTH - player.width) player.x = WIDTH - player.width;

      // Enemy movement (simple back and forth)
      enemy.x += enemy.speed * enemy.direction;
      if(enemy.x <= 400) enemy.direction = 1;
      if(enemy.x >= WIDTH - enemy.width) enemy.direction = -1;

      // Collision with enemy when attacking
      if(player.attacking && Math.abs(player.x - enemy.x) < 30 && player.y === FLOOR_Y && enemy.health > 0){
        enemy.health -= player.hasFlameSword ? 2 : 1;
        if(enemy.health < 0) enemy.health = 0;
      }

      // Collision with enemy hurts player
      if(!player.attacking && Math.abs(player.x - enemy.x) < 30 && player.y === FLOOR_Y && enemy.health > 0){
        player.health -= 0.2;
        if(player.health < 0) player.health = 0;
      }

      // Collect coins
      coins.forEach(coin => {
        if(!coin.collected && Math.abs(player.x + player.width/2 - coin.x) < 15 && Math.abs(player.y - coin.y) < 30){
          coin.collected = true;
          player.crystals += 50;
          updateHUD();
        }
      });

      // Remove collected coins and regenerate periodically
      if(coins.every(c => c.collected)){
        generateCoins();
      }
    }

    // Draw stick figure player
    function drawStickFigure(x, y, options = {}) {
      const { facingRight = true, attack = false, redBandana = false } = options;
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 2;
      ctx.beginPath();
      // Head
      ctx.arc(x + 10, y - 35, 10, 0, Math.PI * 2);
      // Body
      ctx.moveTo(x + 10, y - 25);
      ctx.lineTo(x + 10, y - 10);

      // Arms
      if (attack) {
        ctx.moveTo(x + 10, y - 25);
        ctx.lineTo(x + (facingRight ? 30 : -10), y - 15);
      } else {
        ctx.moveTo(x + 10, y - 25);
        ctx.lineTo(x - 10, y - 20);
        ctx.moveTo(x + 10, y - 25);
        ctx.lineTo(x + 30, y - 20);
      }

      // Legs
      ctx.moveTo(x + 10, y - 10);
      ctx.lineTo(x - 5, y + 10);
      ctx.moveTo(x + 10, y - 10);
      ctx.lineTo(x + 25, y + 10);

      ctx.stroke();

      if (redBandana) {
        ctx.fillStyle = '#f00';
        ctx.beginPath();
        ctx.moveTo(x + 10, y - 40);
        ctx.lineTo(x + 20, y - 45);
        ctx.lineTo(x + 5, y - 50);
        ctx.fill();
      }
    }

    // Draw player with upgrades
    function drawPlayer() {
      drawStickFigure(player.x, player.y + player.height, {
        facingRight: player.facingRight,
        attack: player.attacking,
        redBandana: player.wearingRedBandana
      });

      // Draw flame sword effect if owned and attacking
      if (player.hasFlameSword && player.attacking) {
        ctx.strokeStyle = 'orange';
        ctx.lineWidth = 4;
        ctx.beginPath();
        ctx.moveTo(player.facingRight ? player.x + 30 : player.x - 10, player.y + player.height - 15);
        ctx.lineTo(player.facingRight ? player.x + 45 : player.x - 25, player.y + player.height - 25);
        ctx.stroke();
      }
    }

    // Draw health bar
    function drawHealthBar() {
      const barWidth = 100;
      const barHeight = 10;
      const x = 10;
      const y = 10;
      ctx.fillStyle = '#333';
      ctx.fillRect(x, y, barWidth, barHeight);

      ctx.fillStyle = '#0f0';
      ctx.fillRect(x, y, (player.health / player.maxHealth) * barWidth, barHeight);

      ctx.strokeStyle = '#0f0';
      ctx.strokeRect(x, y, barWidth, barHeight);
    }

    // Update HUD
    function updateHUD() {
      document.getElementById('crystalCount').textContent = player.crystals;
      document.getElementById('healthCount').textContent = Math.floor(player.health);
    }

    // Store Items owned
    let storeItems = {};

    // Save store state in localStorage
    function saveStore() {
      localStorage.setItem('stickLegendsStore', JSON.stringify(storeItems));
    }

    // Load store state
    function loadStore() {
      const saved = localStorage.getItem('stickLegendsStore');
      if(saved){
        storeItems = JSON.parse(saved);
        applyStoreEffects();
        updateStoreButtons();
      }
    }

    // Apply store effects
    function applyStoreEffects(){
      player.hasDoubleJump = !!storeItems.doubleJump;
      player.hasFlameSword = !!storeItems.flameSword;
      player.wearingRedBandana = !!storeItems.redBandana;
    }

    // Update store buttons disabled state
    function updateStoreButtons(){
      document.querySelectorAll('#store button').forEach(button => {
        const id = button.getAttribute('data-id');
        if(storeItems[id]){
          button.disabled = true;
          button.textContent = `${button.textContent.split('(')[0].trim()} (Owned)`;
        }
      });
    }

    // Main render loop
    function render() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);

      // Floor
      ctx.fillStyle = '#222';
      ctx.fillRect(0, FLOOR_Y, WIDTH, HEIGHT - FLOOR_Y);

      // Coins
      coins.forEach(coin => {
        coin.update();
        coin.draw();
      });

      // Enemy
      enemy.draw();

      // Player
      drawPlayer();

      // Health bar
      drawHealthBar();
    }

    // Game loop
    function loop() {
      update();
      render();
      requestAnimationFrame(loop);
    }

    // Store button logic
    document.querySelectorAll('#store button').forEach(button => {
      button.addEventListener('click', () => {
        const id = button.getAttribute('data-id');
        if(storeItems[id]) return; // already owned

        const costs = {
          doubleJump: 300,
          flameSword: 600,
          redBandana: 400
        };

        if(player.crystals >= costs[id]){
          player.crystals -= costs[id];
          storeItems[id] = true;
          applyStoreEffects();
          updateStoreButtons();
          saveStore();
          updateHUD();
          alert(`You bought ${button.textContent.split('(')[0].trim()}!`);
        } else {
          alert('Not enough crystals!');
        }
      });
    });

    // Modal handling
    const termsModal = document.getElementById('termsModal');
    const privacyModal = document.getElementById('privacyModal');
    document.getElementById('termsLink').addEventListener('click', e => {
      e.preventDefault();
      termsModal.classList.add('active');
      termsModal.focus();
    });
    document.getElementById('privacyLink').addEventListener('click', e => {
      e.preventDefault();
      privacyModal.classList.add('active');
      privacyModal.focus();
    });
    document.getElementById('termsClose').addEventListener('click', () => {
      termsModal.classList.remove('active');
    });
    document.getElementById('privacyClose').addEventListener('click', () => {
      privacyModal.classList.remove('active');
    });

    // Initialize HUD and store
    updateHUD();
    loadStore();

    // Start game loop
    loop();

    // Social share button logic
    const pageUrl = encodeURIComponent(window.location.href);
    const pageTitle = encodeURIComponent("Stick Legends - Fun Stickman Game");

    document.getElementById('share-twitter').addEventListener('click', () => {
      const twitterUrl = `https://twitter.com/intent/tweet?url=${pageUrl}&text=${pageTitle}`;
      window.open(twitterUrl, '_blank', 'width=600,height=400');
    });

    document.getElementById('share-facebook').addEventListener('click', () => {
      const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;
      window.open(facebookUrl, '_blank', 'width=600,height=400');
    });

    document.getElementById('share-linkedin').addEventListener('click', () => {
      const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;
      window.open(linkedinUrl, '_blank', 'width=600,height=400');
    });

  })();
  </script>
</body>
</html>
